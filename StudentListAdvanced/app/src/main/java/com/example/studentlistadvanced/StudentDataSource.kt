package com.example.studentlistadvanced

import android.os.Build
import android.util.Log
import androidx.annotation.RequiresApi
import androidx.room.Room
import com.example.studentlistadvanced.model.Student
import java.util.*
import kotlin.collections.ArrayList
import kotlin.collections.LinkedHashSet

class StudentDataSource {
    private var mainList: LinkedHashSet<Student> = linkedSetOf<Student>()
    private var deletedList: LinkedHashSet<Student> = linkedSetOf()
    private var deletedStack = Stack<Student>()
    private var id = 0
    private var studentsDeleted = 0
    val BASE_64_CODE =
        "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"

    companion object {
        @Volatile
        private var INSTANCE: StudentDataSource? = null

        fun getDataSource(): StudentDataSource {
            val tempInstance = INSTANCE
            if (tempInstance != null) {
                return tempInstance
            }

            synchronized(lock = this) {
                val instance =
                    StudentDataSource()
                INSTANCE = instance
                return instance
            }
        }
    }

    fun addStudent(student: Student) {
        mainList.add(student)
        incrementId()
    }

    fun getId(): Int {
        return id
    }

    fun incrementId() {
        id += 1
    }

    fun isStudentExist(student: Student): Boolean {
        return mainList.contains(student)
    }

    fun getAllStudents(): ArrayList<Student> {
        if (mainList.isEmpty())
            return arrayListOf<Student>()
        var a = arrayListOf<Student>()
        a = ArrayList(mainList.toList())
        return a
    }

    fun deleteStudent(student: Student) {
        mainList.remove(student)

        if (studentsDeleted < 5) {
            deletedList.add(student)
            studentsDeleted++
        } else {
            if (studentsDeleted >= 5) {
                deletedList.remove(deletedList.first())
                deletedList.add(student)
            }
        }
        Log.d("LLL", "deleteStudent: $studentsDeleted  last = ${deletedList.last().name} first = ${deletedList.first().name}  }")
    }

    fun restore(): ArrayList<Student> {
        studentsDeleted = 0
        if (deletedList.isEmpty())
            return arrayListOf()
        var a = ArrayList(deletedList.toList()).reversed()
        mainList.addAll(deletedList)
        deletedList.clear()

        return a as ArrayList<Student>
    }

    @RequiresApi(Build.VERSION_CODES.O)
    fun decodeBase64(encodedString: String): String {
        val decodedBytes = Base64.getDecoder().decode(encodedString)
        val decodedString = String(decodedBytes)

        return decodedString
    }

}